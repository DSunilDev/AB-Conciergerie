(globalThis["webpackChunk_canva_web"] = globalThis["webpackChunk_canva_web"] || []).push([[66680],{

/***/ 393208:
function(_, __, __webpack_require__) {__webpack_require__.n_x = __webpack_require__.n;const __web_req__ = __webpack_require__;__web_req__(905716);__web_req__(747791);globalThis._5f74ec40302898c5a55451c9fbd04240 = globalThis._5f74ec40302898c5a55451c9fbd04240 || {};(function(__c) {var EZ=__c.EZ;var HZ=__c.HZ;
var ujc=function(a,b){b=b.Gj;a.Gj=new HZ((a.viewport.x+a.origin.x)*b.width,(a.viewport.y+a.origin.y)*b.height,b.width*a.viewport.width,b.height*a.viewport.height)},vjc=function(a,b){const c=b.Oh;var d=b.dB;const e=b.Gj;ujc(a,b);b=new HZ(a.viewport.x*d.width,a.viewport.y*d.height,a.viewport.width*d.width,a.viewport.height*d.height);a.scale=new EZ(d.width/e.width,d.height/e.height);a.position=new EZ(-a.origin.x*e.width,-a.origin.y*e.height);c.setTransform(1,0,0,1,0,0);a.clear&&c.clearRect(b.x,b.y,b.width,
b.height);d=a.clearColor;d.XTa==null&&(d.XTa=`#${(__c.BZ(d.r)*256*256*256+__c.BZ(d.g)*256*256+__c.BZ(d.b)*256+__c.BZ(d.a*255)).toString(16).padStart(8,"0")}`);c.fillStyle=d.XTa;c.fillRect(b.x,b.y,b.width,b.height);d=new Path2D;d.rect(b.x,b.y,b.width,b.height);c.clip(d);c.setTransform(1,0,0,1,0,0);c.transform(a.scale.x,0,0,a.scale.y,0,0);c.translate(a.position.x,a.position.y)},yjc=function(a){return wjc(xjc,{children:["Mode: ",a.mode,I1("br",{}),"IsLooping: ",a.HT.toString(),I1("br",{}),"Resolution: ",
a.resolution?.toString(),I1("br",{}),"FPS: ",a.HT?a.zub.toFixed(2):"N/A"]})},J1=function(a){if(a.uw!=null&&a.dB!=null&&a.H$){var b=a.uw.canvas,c=a.uw.container,{resolution:d,fU:e=1}=a.dB;a.Gj=new HZ(0,0,c.offsetWidth,c.offsetHeight);c=c.getBoundingClientRect();a.gB=new HZ(c.x,c.y,c.width,c.height);switch(d){case "matchView":c=new __c.GZ(Math.floor(a.Gj.width*e),Math.floor(a.Gj.height*e));break;case "matchViewPixels":c=new __c.GZ(Math.floor(a.Gj.width*e*a.MZ.window.devicePixelRatio),Math.floor(a.Gj.height*
e*a.MZ.window.devicePixelRatio));break;default:c=d}var f=a.Gj.width/c.width,g=a.Gj.height/c.height;b.width=c.width;b.height=c.height;b.style.transformOrigin="top left";b.style.transform=`scale(${f}, ${g})`;a.H$=!1}},K1=function(a){if(a.OLa(!0)&&a.Usa==null){a.t8.splice(0,a.t8.length);var b=a.MZ.window.requestAnimationFrame,c=d=>{zjc(a,d?0:void 0,!0);a.render();a.OLa(!1)?a.Usa=b(Ajc.wrap(()=>c(!1))):a.Usa=void 0};a.Usa=b(Ajc.wrap(()=>c(!0)))}},Bjc=function(a,b){__c.x(a.uw==null,"Cannot set 'HTMLElements' is not undefined, please dispose setHTMLElements");
a.uw=b;a.H$=!0;J1(a);K1(a);return()=>{a.uw=void 0}},Cjc=function(a,b){a.dB=b;a.H$=!0;J1(a);K1(a);return()=>{a.dB===b&&(a.dB=void 0)}},zjc=function(a,b,c){if(a.uw!=null&&a.dB!=null){var d=a.uw.canvas,e=a.MZ.gxb();a.YEa==null&&(a.YEa=e);var f=c?b!=null?b:Math.min((e-a.YEa)*.001,a.MZ.PDb):b||0;J1(a);var g={vE:f,totalTime:a.totalTime,dB:new HZ(0,0,d.width,d.height),Gj:a.Gj,gB:a.gB,cameras:a.cameras};a.cameras.forEach(h=>h.update(g));a.elements.forEach(h=>h.update(g));a.totalTime+=f;c&&(b==null&&a.t8.push(f),
a.YEa=e)}},Ijc=function({type:a,className:b,resolution:c,fU:d=1,mode:e,elements:f,cameras:g,e0b:h,nya:k,...l}){const m=Djc(null),n=Djc(null),p=Ejc(()=>new Fjc(a),[a]);L1(()=>p.Nqa(e),[p,e]);L1(()=>Cjc(p,{fU:d,resolution:c}),[p,d,c]);L1(()=>{if(m.current!=null&&n.current!=null){var q=Bjc(p,{container:m.current,canvas:n.current}),r=window.ResizeObserver!=null?new window.ResizeObserver(()=>{p.H$=!0}):void 0;r?.observe(m.current);return()=>{q();r?.disconnect()}}},[p,m,n]);L1(()=>{f.forEach(q=>p.addElement(q));
return()=>f.forEach(q=>{q=p.elements.indexOf(q);if(q>=0){const r=p.elements[q];p.elements.splice(q,1);r.Bca(void 0)}p.R5()})},[p,f]);L1(()=>{g.forEach(q=>{p.cameras.push(q);K1(p)});return()=>g.forEach(q=>{q=p.cameras.indexOf(q);q>=0&&(p.cameras.splice(q,1),K1(p))})},[p,g]);Gjc(k,()=>({update:q=>p.update(q),render:()=>p.render()}),[p]);return wjc("div",{className:b,dir:"ltr",ref:m,"aria-hidden":l.ariaHidden,role:l.role,"aria-label":l.role!=null?l.ariaLabel:void 0,children:[I1("canvas",{ref:n}),h&&
I1(Hjc,{tob:p})]})},Jjc=function(a,b){for(let c=0;c<a.Vz.length;++c){const d=a.Vz[c];a.my(d,b);d.oba.Cva||a.gS(d,b)}a.Vz=a.Vz.filter(({oba:c})=>c.Cva)},Kjc=function(a,b){for(let c=0;c<a.wM.length;++c){const d=a.wM[c],e=d.BYa.Bxb(d.nv,b.vE);e.type!=="none"&&a.emit(e.type,e.count,d,b);d.nv+=b.vE}a.wM=a.wM.filter(({BYa:c,nv:d})=>!c.pAb(d))},Ajc=__webpack_require__(245307).Fm;var Ljc=__webpack_require__(322594),xjc=Ljc.Fragment,I1=Ljc.jsx,wjc=Ljc.jsxs;var M1=__webpack_require__(205482),Mjc=M1.memo,Njc=M1.useEffect,Gjc=M1.useImperativeHandle,L1=M1.useLayoutEffect,Ejc=M1.useMemo,Djc=M1.useRef,Ojc=M1.useState;var Pjc=__webpack_require__(186901),Qjc=Pjc.h5,Rjc=Pjc.sH;__c.Sjc=class{get vHb(){return this.Gj}update(a){ujc(this,a)}constructor(){({origin:d=new EZ(0,0),viewport:c=new HZ(0,0,1,1),clearColor:b=__c.DZ.clear,clear:a=!1}={});var a,b,c,d;this.origin=new EZ(0,0);this.viewport=new HZ(0,0,1,1);this.clearColor=__c.DZ.clear;this.clear=!1;this.scale=new EZ(0,0);this.position=new EZ(0,0);this.Gj=new HZ;this.origin=d;this.viewport=c;this.clearColor=b;this.clear=a}};var Hjc=Mjc(function({tob:a}){const [b,c]=Ojc();Njc(()=>{c(yjc(a));const d=window.setInterval(Ajc.wrap(()=>{c(yjc(a))}),300);return()=>window.clearInterval(d)},[a]);return I1("div",{className:"bPNiCw",children:I1("div",{className:"hyEEhg",children:b})})});var Tjc=window,Fjc=class{get parent(){}get mode(){return this.Oga||"manual"}get HT(){return this.Usa!=null}get resolution(){return this.uw&&new __c.GZ(this.uw.canvas.width,this.uw.canvas.height)}get zub(){const a=Math.min(this.t8.length,20),b=1/a;return this.t8.slice(-a).reduce((c,d)=>c+b/d,0)}Nqa(a){this.Oga=a;K1(this)}addElement(a){this.elements.push(a);a.Bca(this);this.R5()}R5(){this.IUa=this.elements.some(a=>a.active);K1(this)}OLa(a){return this.Oga!=null&&this.uw!=null&&this.dB!=null&&(this.Oga===
"constant"||this.Oga==="dynamic"&&(a||this.IUa))}update(a){zjc(this,a,!1)}render(){if(this.uw!=null&&this.dB!=null){J1(this);var a=this.uw.canvas,b=new HZ(0,0,a.width,a.height);if(!(b.width*b.height<=0)){var c=a.getContext(this.type);a=this.iqb;this.MZ.epb&&a.clearCanvas(c,b);this.cameras.forEach(d=>{c.save();vjc(d,{Oh:c,dB:b,Gj:this.Gj,gB:this.gB});const e={Oh:c,camera:d,dB:b,Gj:this.Gj,gB:this.gB};this.elements.forEach(f=>{c.save();f.render(e);c.restore()});c.restore()})}}}constructor(a){var b=
{epb:!0,PDb:.33,gxb:()=>Date.now(),window:Tjc};this.type=a;this.MZ=b;this.cameras=[];this.elements=[];this.IUa=!1;this.totalTime=0;this.t8=[];this.H$=!1;this.Gj=new HZ;this.gB=new HZ;switch(this.type){case "2d":this.iqb=new Ujc;break;case "webgl":throw Error("Not implemented yet!");default:throw new __c.A(this.type);}}},Ujc=class{clearCanvas(a,b){a.clearRect(b.x,b.y,b.width,b.height)}};__c.Vjc=Mjc(a=>I1(Ijc,{...a,type:"2d"}));var Wjc=class{get active(){return this.uKa}get parent(){return this.VDa}setActive(a){this.uKa!==a&&(this.uKa=a,this.VDa?.R5())}Bca(a){__c.x(a!==this.parent&&(a==null||this.parent==null),"Cannot assign parent when a parent is already assigned.");this.VDa=a;this.VDa?.R5()}R5(){throw Error("CanvasElement does not have children");}constructor(){this.uKa=!0}};var Xjc=class extends Wjc{vM(a,b){a={BYa:a,module:b,id:++this.counter,nv:0};this.wM.push(a);this.setActive(!0)}stop(a=!1){this.wM.splice(0,this.wM.length);a&&this.Vz.splice(0,this.Vz.length);this.setActive(a)}update(a){a={vE:a.vE,Gj:a.Gj,gB:a.gB,cameras:a.cameras,random:()=>this.b$a.random()};Jjc(this,a);Kjc(this,a);this.setActive(this.wM.length>0||this.Vz.length>0)}my(a,b){const c=a.oba,d=a.rU;a.module?.my(b,c,d)}gS(a,b){const c=a.oba,d=a.rU;a.module?.gS(b,c,d)}emit(a,b,c,d){let e=Math.min(b,this.iU);
if(this.Vz.length+e>this.iU){var f=this.Vz.length+e-this.iU;switch(this.N8a){case "removeOldest":this.Vz.splice(0,f);break;case "stopNew":e=b-f;if(e<=0)return;break;default:return}}b={...d,vE:0};for(f=0;f<e;f++){const g={position:EZ.zero,OZ:__c.FZ.zero,scale:EZ.one,color:__c.DZ.white,nv:0,iW:0,velocity:EZ.zero,id:++this.counter,E_b:c.id,Cva:!0},h=c.module.pn({...d,index:f,wNb:a,count:e},g);c.module.my(b,g,h);this.Vz.push({oba:g,rU:h,module:c.module})}}render(a){const b={Oh:a.Oh,Gj:a.Gj,gB:a.gB,random:()=>
Math.random()};this.Vz.forEach(c=>this.Dv(c,b))}Dv(a,b){const c=a.oba,d=a.module;a=a.rU;d.Dv!=null&&(b.Oh.save(),d.Dv(b,{position:c.position,OZ:c.OZ,scale:c.scale,color:c.color,Tpa:!1},c,a),b.Oh.restore())}constructor(a){super();this.Vz=[];this.wM=[];this.counter=0;this.iU=a.iU;this.N8a=a.N8a||"stopNew";this.b$a=a.b$a||{random:()=>Math.random()};this.setActive(!1)}};__c.N1=class extends Xjc{static G(a){__c.L(a,{OGa:Rjc.ref})}get active(){return this.OGa}setActive(a){Qjc(()=>this.OGa=a);super.setActive(a)}constructor(...a){super(...a);this.OGa=(__c.N1.G(this),!1)}};
}).call(globalThis, globalThis._5f74ec40302898c5a55451c9fbd04240);}

}])
//# sourceMappingURL=sourcemaps/486149f1c1547892.js.map