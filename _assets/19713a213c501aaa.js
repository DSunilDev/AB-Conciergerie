(globalThis["webpackChunk_canva_web"] = globalThis["webpackChunk_canva_web"] || []).push([[50954],{

/***/ 401786:
function(_, __, __webpack_require__) {__webpack_require__.n_x = __webpack_require__.n;const __web_req__ = __webpack_require__;__web_req__(905716);globalThis._5f74ec40302898c5a55451c9fbd04240 = globalThis._5f74ec40302898c5a55451c9fbd04240 || {};(function(__c) {var Nnc=function(a){Object.keys(a).forEach(b=>a[b]==null&&delete a[b])},Onc=function(a){if(a instanceof __c.Rab){const b=[];a.values.forEach(c=>{b.push(Onc(c))});return b}if(a instanceof __c.Tab){const b={};a.values.forEach(c=>{b[c.name]=Onc(c.value)});return b}return a.value},Pnc=function(a,b){if((a=a.exception?.values?.[0]?.stacktrace?.frames)&&a.length!==0)for(let c=a.length-1;c>=0;c--){const d=a[c];if(d.in_app&&d.module&&(!b||d.module!==b))return{module:d.module,function:d.function||"anonymous",
filename:d.filename}}},Qnc=function(a,b){return{...b,frames:b?.frames?.map(c=>{for(const [d,e]of Object.entries(a.zqa))c.module=c.module?.replace(e,d),c.abs_path=c.abs_path?.replace(e,d),c.filename=c.filename?.replace(e,d);return c})}},Rnc=function(a,b){b.exception&&b.exception.values&&(b.exception={...b.exception,values:b.exception?.values?.map(c=>({...c,...(c.stacktrace&&{stacktrace:Qnc(a,c.stacktrace)})}))})},Snc=function(a,b){var c=b.request;c!=null&&c.url!=null&&(c.url=a.z2(c.url));Rnc(a,b);
b.tags!=null&&a.kKa(b.tags)},Tnc=function(a){if(a instanceof __c.HS)return a;if(a&&typeof a==="object"&&"cause"in a)return Tnc(a.cause)},Vnc=function(a,b){if(a?.message!==b?.message)return!1;a=a.exception?.values;b=b.exception?.values;if(a==null||b==null||a.length!==b.length)return!1;for(let c=0;c<a.length;c++)if(a[c].value!==b[c].value||a[c].type!==b[c].type||!Unc(a[c].stacktrace,b[c].stacktrace))return!1;return!0},Unc=function(a,b){a=a?.frames;b=b?.frames;if(a==null&&b==null)return!0;if(a==null||
b==null||a.length!==b.length)return!1;for(let c=0;c<a.length;c++)if(a[c].filename!==b[c].filename||a[c].colno!==b[c].colno||a[c].lineno!==b[c].lineno)return!1;return!0},Wnc=function(a,b){const c=a.history.find(f=>Vnc(f.event,b));if(c==null)return!1;const d=__c.jp.now(),e=c.timestamp;return Vnc(b,c.event)&&d-e<a.YOb},Ync=function(a){return a({iteratee:b=>Xnc({frame:b,rNb:"/dist/renderer/"})})},Xnc=function({frame:a,rNb:b}){if(a.filename==null)return a;const c=a.filename.replace(/\\/g,"/").split(b);
if(c.length<=1)return a;a.filename="app://"+b+c.pop();return a},Znc=function(a,b){try{const c=new URL(b,`${a.location.protocol}//${a.location.host}`);if(!["http:","https:"].includes(c.protocol))return"";a.rmb.some(d=>c.hostname.includes(d))&&c.pathname.startsWith("/_ajax")||(c.pathname="");c.search="";return b.includes(c.host)?c.toString():c.pathname||"/"}catch(c){return""}},aoc=function(a){const b=[];for(const c of $nc){const d=c(a);d&&b.push(d)}return b},boc=function(){const a=self,b=c=>{if(typeof c===
"object"&&typeof c.getPageLocation==="function")try{const d=c.getPageLocation();return typeof d==="string"?d:void 0}catch(d){}};return b(a.Android)??b(a.Harmony)},coc=function(a,b){a!=null&&typeof a!=="string"&&a instanceof __c.HS&&a.requestId!=null&&b("requestId",a.requestId)},eoc=function(a){return(b,c)=>{b.request&&(b.request=a.cKa(b.request));if(doc(a,b))return null;coc(c?.originalException,(e,f)=>{b.tags==null&&(b.tags={});b.tags[e]=f});if(a.ab){b.tags==null&&(b.tags={});a:switch(a.ab.status){case 2:var d=
"OFFLINE";break a;case 1:d="ONLINE";break a;default:d="UNKNOWN"}b.tags.offlineStatus=d}try{Snc(a.UY,b)}catch(e){a.Vb(e)}return a.z5.reduce((e,f)=>f(e,c),b)}},goc=function(a,b,c){var d=a.Vj?.getCurrentHub().getClient();d=d&&d.getOptions()||{};var e=b.sampleRate??1;e=[new W2,new X2(2E3),new Y2,new __c.yJ(e,b.$Eb??e),new Z2,new $2,new a3(a.allowUrls,location)];a.Vj&&(e.push(a.Vj.dedupeIntegration()),e.push(a.Vj.extraErrorDataIntegration()),e.push(Ync(a.Vj.rewriteFramesIntegration)));a.setTags(a.bootstrap.tags);
a.setExtras(a.bootstrap.extra);var f=typeof navigator!=="undefined"?navigator.userAgent:void 0;f&&(f=aoc(f),a.setTags(f));b=b.aIb;b!==1&&a.setTag("webx",String(b===3));a.setTag("iframe",String(typeof window!=="undefined"&&window.self!==window.top));c.aIa&&a.setTag("webview",c.aIa);d.beforeSend=eoc(a);c={...d,maxValueLength:1024,dsn:d.dsn||a.bootstrap.dsn,environment:d.environment||a.bootstrap.environment,release:d.release||a.bootstrap.release,tracesSampleRate:0,sampleRate:1,integrations:e,allowUrls:a.allowUrls,
transport:a.Vj?.makeBrowserOfflineTransport(a.Vj.makeFetchTransport),transportOptions:{flushAtStartup:a.flushAtStartup,storeName:a.componentStack[0]||"queue"},autoSessionTracking:!1,ignoreErrors:foc};Nnc(c);a.Vj?.init(c);a.Vj?.configureScope(g=>{g.setUser({id:__c.sn()});g.setTag("isAnonymousUser",!0);g.setTag("initLocation","error_client")})},doc=function(a,b){const c=b.exception&&b.exception.values&&b.exception.values.length>0&&b.exception.values[0],d=c&&c.stacktrace||void 0,e=d&&d.frames&&d.frames[0]&&
d.frames[0].filename,f=b.message||c&&c.value||void 0;return a.VZ.some(g=>g({message:f,filename:e,location,tags:b.tags,event:b}))},hoc=function(a,b){b instanceof Error?a.Vj?.captureException(b):a.Vj?.captureMessage(b)},ioc=function(a,b,c){return b==null?[Error((c?c+" ":"")+"[null error thrown]")]:typeof b!=="object"?[b.toString()]:(b instanceof AggregateError&&b.errors.length>0?b.errors:[b]).map(d=>{let e;e=d instanceof __c.Cc?new __c.Cc(d.message,d.sampleRate):d instanceof __c.HS?d:Error(d.message);
d.stack&&(e.stack=d.stack);d.cause&&(e.cause=d.cause);if(c){if(d.message?.startsWith(c))return a.setTag("prefixCollision","true"),d;d=c+" "+(e.message||"[no message on error]");try{e.message=d}catch(f){if(f instanceof TypeError)return Error(d);throw f;}}return e})},b3=function(a,b,c,d){a.Vj==null?(console.error(c),d&&console.log("errorParams",d)):a.Vj&&a.Vj.withScope(e=>{typeof d==="string"&&(d={Ke:d});const f=ioc(e,c,typeof d==="string"?d:d?.Ke);a.R_a().forEach(([g,h])=>e.setTag(g,h));d!=null&&(d.fingerprint&&
e.setFingerprint(d.fingerprint),d.bta&&e.setTag("userFlow",d.bta),d.extra&&d.extra.forEach((g,h)=>e.setExtra(h,g)),d.tags&&d.tags.forEach((g,h)=>e.setTag(h,g)));a.componentStack.length>0&&e.setTag("component",a.componentStack.join("."));e.setLevel(b);for(const g of f)hoc(a,g)})};var Y2=class{setupOnce(a,b){a(c=>{if(!b().getIntegration(Y2))return c;if(!(c.fingerprint&&c.fingerprint.length>0)){c.tags==null&&(c.tags={});var d=c.message?c.message:c.exception?.values?.[0]?.value?c.exception.values[0].value:void 0;if(d){if(d.match(/HTTP (forbidden|not found) on: (.*)/)){var e=d.match(/HTTP (forbidden|not found) on: ([^?#]*)/);if(e){const [,g,h]=e;e=h.replace(/\/[A-Za-z0-9_~-]{20,}/g,"/<ID>").replace(/\/\d+/g,"/<NUM>").replace(/\/[a-zA-Z0-9_~-]{10,19}/g,"/<ID>");c.fingerprint=[`http-${g===
"forbidden"?"403":"404"}`,e];c.tags["fingerprinting.http_error"]="true";c.tags["fingerprinting.http_error.endpoint"]=e;c.tags.fingerprinting="true";c.tags.customSampleRate="0.01"}}d.match(/OTLPExporter:\s+Concurrency\s+Limit/i)&&(c.fingerprint=["otlp-concurrency-limit"],c.tags["fingerprinting.otlp_exporter_error"]="true",c.tags["fingerprinting.otlp_exporter_error.type"]="concurrency-limit",c.tags.fingerprinting="true",c.tags.customSampleRate="0.01");if(__c.vc("2ba72277",!1)){e=d.match(/^(?:.*?[:\s])?(argument is null)$/);
var f=d.match(/^(?:.*?[:\s])?(invalid state)$/);if(e||f)e=f?"invalid state":"argument is null",c.tags["fingerprinting.precondition_error"]="true",c.tags["fingerprinting.precondition_error.type"]=e,c.tags.fingerprinting="true",c.tags.customSampleRate="0.005",(f=Pnc(c,"base/preconditions"))?(c.fingerprint=[`precondition-${e}`,f.module,f.function],c.tags["fingerprinting.precondition_error.module"]=f.module,c.tags["fingerprinting.precondition_error.function"]=f.function):c.fingerprint=[`precondition-${e}`,
"no-caller-found"];d.match(/failed to load image/i)&&(c.tags["fingerprinting.image_load_error"]="true",c.tags.fingerprinting="true",c.tags.customSampleRate="0.01",(d=Pnc(c))?(c.fingerprint=["image-load-error",d.module],c.tags["fingerprinting.image_load_error.module"]=d.module):c.fingerprint=["image-load-error","no-caller-found"])}}}return c})}constructor(){this.name=Y2.id}};Y2.id="CustomFingerprinting";var joc=class{z2(a){let b=a;Object.entries(this.zqa).forEach(([c,d])=>{b=b.split(d).join(c)});return b}kKa(a={}){Object.keys(a).forEach(b=>{const c=a[b];typeof c==="string"&&(a[b]=this.z2(c))})}constructor(){this.zqa={}}};var Z2=class{setupOnce(a,b){a(c=>{b().getIntegration(Z2);return c})}constructor(){this.name=Z2.id}};Z2.id="HostRpcServiceErrors";var $2=class{setupOnce(a,b){a((c,d)=>{if(!b().getIntegration($2)||!d)return c;if(d=Tnc(d.originalException))c.tags||(c.tags={}),Object.assign(c.tags,{http_service_error:!0,statusCode:d.statusCode,...(d.requestId?{requestId:d.requestId}:{})}),d.requestUrl&&(c.tags.phase=d.requestUrl.includes("/csrf3/")?"csrf":"request");return c})}constructor(){this.name=$2.id}};$2.id="HttpServiceErrors";var koc=class{add(a){this.H6=this.fxb(this.H6);this.list[this.H6]=a}find(a){let b=this.H6;do{if(this.list[b]&&a(this.list[b]))return this.list[b];b=this.pxb(b)}while(b!==this.H6)}constructor(){this.ixa=10;this.H6=0;this.fxb=a=>(a+1)%this.ixa;this.pxb=a=>(a+this.ixa-1)%this.ixa;this.list=Array(10)}},X2=class{setupOnce(a,b){a(c=>{const d=b().getIntegration(X2);d&&(Wnc(d,c)?c=null:d.history.add({event:c,timestamp:__c.jp.now()}));return c})}constructor(a){this.YOb=a;this.name=X2.id;this.history=new koc}};
X2.id="NoSuccessiveEvent";var W2=class{setupOnce(a,b){a(c=>{if(!b().getIntegration(W2))return c;c.tags=c.tags??{};c.tags["prior.unhandled.error.count"]=this.O$a;c.exception?.values?.some(d=>d.mechanism?.handled===!1)&&this.O$a++;return c})}constructor(){this.name=W2.id;this.O$a=0}};W2.id="PriorUnhandledErrorCountIntegration";var a3=class{setupOnce(a,b){a(c=>{const d=b().getIntegration(a3);return d?d.processEvent(c):c})}processEvent(a){a?.breadcrumbs?.map((b,c)=>{if(a?.breadcrumbs){var d=a.breadcrumbs;b.type==="http"&&(b.data=b.data||{},b.data.url=Znc(this,b.data?.url??""));d[c]=b}});a.request&&(a.request=this.cKa(a.request));return a}cKa(a){const b=a?.url?Znc(this,a?.url):void 0,c={};a?.headers?.["User-Agent"]&&(c["User-Agent"]=a?.headers["User-Agent"]);a?.headers?.Referer&&(c.Referer=Znc(this,a?.headers?.Referer));return{url:b,
headers:c}}constructor(a,b){this.rmb=a;this.location=b;this.name=a3.id}};a3.id="UrlScrubber";var $nc=[function(a){if(a=/canvaeditor\/(\d+\.\d+\.\d+)/.exec(a))return{name:"mobile_app_version",value:a[1]}},function(a){if(a=/com.canva.editor\s\(version\/(\d+\.\d+\.\d+)/.exec(a))return{name:"mobile_app_version",value:a[1]}}];var foc,loc;
foc=["TimeoutError","HttpTimeoutError",/^ResizeObserver loop/,/^WHEN_CANCELLED$/,"ChunkLoadError",/^NetworkError: Failed to execute 'importScripts' on 'WorkerGlobalScope':/,/Failed to register a ServiceWorker.*(The document is in an invalid state|An unknown error occurred when fetching the script|Failed to access storage|The URL protocol of the current origin \('null'\) is not supported|Timed out while trying to start the Service Worker)\.$/,/^(Can't find variable: indexedDB|Internal error opening backing store for indexedDB.open.|Encountered full disk while opening backing store for indexedDB.open.|An internal error was encountered in the Indexed Database server)/,/Non-Error promise rejection captured with value: [Tt]imeout( \(.\))?/,
/.*\[ExecError:METHOD_EXECUTION_ERROR:requestV2\].*www\.canva\.com.*/,"variable: _AutofillCallbackHandler","_AutofillCallbackHandler is not defined","Non-Error promise rejection captured with value: Object Not Found Matching Id","Event `CustomEvent` (type=unhandledrejection) captured as promise rejection"];
loc=class{static create(a){return new loc(a)}cKa(a){if(!a.url)return{headers:{"User-Agent":a?.headers?.["User-Agent"]??""}};const b=/^(\/design\/[a-zA-Z0-9_-]+\/)([a-zA-Z0-9_-]{22})(.*)/,c=new URL(a.url);c.search="";b.test(c.pathname)&&(c.pathname=c.pathname.replace(b,"$1<REDACTED>$3"));return{url:c.toString(),headers:{"User-Agent":a?.headers?.["User-Agent"]??""}}}Pfa(a){this.z5.push(a)}ag(a){return new loc(this.bootstrap,this.componentStack.concat(a),this.VZ,this.Vj,this.UY,this.z5,this.ab,this.L9,
void 0,this,!1)}setContext({user:a,locale:b,Uub:c}){this.Vj?.getCurrentHub()?.configureScope(d=>{a&&(d.setUser(a),d.setTag("isAnonymousUser",!1));b&&d.setTag("locale",b);c?.forEach((e,f)=>d.setExtra(f,e))})}setTags(a){for(const b of a)this.setTag(b.name,b.value)}setTag(a,b,c="GLOBAL"){if(this.Vj!=null){{var d=a.length<=32;const e=b.length<=200;d&&e?d=(0,__c.Ba)(!0):(d=(d?"":"Key name length cannot exceed 32 characters.\n")+(e?"":"Key value length cannot exceed 200 characters.\n"),d=(0,__c.Ea)(Error(d+
`Tag: ${a}:${b}`)))}if(d.ok)switch(c){case "GLOBAL":this.Vj.setTag(a,b);break;case "SELF":this.Q3a.push([a,b]);break;default:throw new __c.A(c);}else hoc(this,d.error)}}setExtras(a){for(const b of a)this.setExtra(b.name,b.value)}setExtra(a,b){this.Vj!=null&&this.Vj.setExtra(a,Onc(b))}U4(a){this.Vj!=null&&this.Vj?.addBreadcrumb({...a,level:a.level})}R_a(){return[...(this.parent?.R_a()??[]),...this.Q3a]}aia(a,b){b3(this,"fatal",a instanceof Error?a:Error(a),b)}QR(a,b){b3(this,"fatal",a,b)}error(a,b){b3(this,
"error",a instanceof Error?a:Error(a),b)}Vb(a,b){b3(this,"error",a,b)}GA(a,b){b3(this,"warning",a instanceof Error?a:Error(a),b)}JG(a,b){b3(this,"warning",a,b)}info(a,b){b3(this,"info",a instanceof Error?a:Error(a),b)}debug(a,b){b3(this,"debug",a instanceof Error?a:Error(a),b)}constructor(a,b=[],c=[],d=self.Sentry,e=new joc,f=[],g,h,k=boc(),l,m=!0){this.Q3a=[];this.allowUrls="/dist/renderer/ canva.com canva.cn canva-dev.com canva-staging.com canva-staging.cn www.features.canva-internal.com www.features.canva-internal-staging.com canva-apps.com canva-apps.cn canva-apps-dev.com canva-apps-staging.com canva-apps-staging.cn affinity-dev.studio affinity-staging.studio affinity.studio".split(" ");
a?.bootstrap!=null?(this.bootstrap=a.bootstrap,this.componentStack=a.componentStack??[],this.VZ=a.VZ??[],this.Vj=a.Vj??self.Sentry,this.UY=a.UY??new joc,this.z5=a.z5??[],this.ab=a.ab,this.L9=a.L9,k=a.aIa,this.parent=a.parent,this.flushAtStartup=a.flushAtStartup??!0):(this.bootstrap=a,this.componentStack=b,this.VZ=c,this.Vj=d,this.UY=e,this.z5=f,this.ab=g,this.L9=h,this.parent=l,this.flushAtStartup=m);this.Vj?this.parent==null&&goc(this,this.bootstrap,{aIa:k}):typeof self.suppressSentryInitializationError!==
"undefined"&&self.suppressSentryInitializationError===!0||console.error("Sentry can not be found on the global scope.")}};__c.Zba={};__c.Zba.Kkb=loc;
}).call(globalThis, globalThis._5f74ec40302898c5a55451c9fbd04240);}

}])
//# sourceMappingURL=sourcemaps/19713a213c501aaa.js.map