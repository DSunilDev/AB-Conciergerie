(globalThis["webpackChunk_canva_web"] = globalThis["webpackChunk_canva_web"] || []).push([[74910],{

/***/ 411514:
function(_, __, __webpack_require__) {__webpack_require__.n_x = __webpack_require__.n;const __web_req__ = __webpack_require__;__web_req__(905716);globalThis._5f74ec40302898c5a55451c9fbd04240 = globalThis._5f74ec40302898c5a55451c9fbd04240 || {};(function(__c) {var vc=__c.vc;var x=__c.x;
var r3=function(a){const b=Error(a);return c=>{c instanceof Error&&(c.stack==null||c.stack==="")&&(c.stack=b.stack);return c}},dqc=function(a){return new Promise((b,c)=>{const d=()=>{a.removeEventListener("success",e);a.removeEventListener("error",g)},e=()=>{d();b(a.result)},f=r3("idb promisify_request_events error"),g=()=>{d();c(f(a.error))};a.addEventListener("success",e);a.addEventListener("error",g)})},eqc=async function(a,b){const c=a.bo(a.cursor.request);a.cursor.continue(b);return c},gqc=function(a){return new Promise((b,
c)=>{const d=r3("idb_transaction error");a.zD.addEventListener("complete",()=>b());a.zD.addEventListener("error",f=>{c(d(f.target?.error||a.zD.error||Error("Unknown error")))});const e=new fqc;a.zD.addEventListener("abort",()=>{if(a.zD.error instanceof Error){var f=e.cause=a.zD.error;f=[`${f.name}`,`${f.message}`].filter(g=>!!g).join(": ");e.message=`${e.message} (${f})`}c(e)})})},hqc=function(a,b){x(b.from>=0);x(b.to>=1);x(b.to===b.from+1);const c=a.QP.length&&a.QP[a.QP.length-1];c?x(b.from===c.to):
x(b.from===0);a.QP.push(b);return a},jqc=async function(a,b=indexedDB){const c=s3()();try{try{return c.r(await c.s(t3.open({name:a.name,version:void 0,F7a:(d,e,f,g)=>{x(e.oldVersion===0&&e.newVersion===1,"Received unexpected upgrade");g()},yH:a.yH},b)))}catch(d){if(c.r(),!(d instanceof iqc))throw d;}}finally{c.s()}},kqc=async function(a){const b=s3()();try{if(a.kM)return a.kM;const c=t3.Ql({name:a.options.name,yH:{type:1,mpb:!0,npb:!0},lla:a.lla});a.kM=a.options.build(c);try{const d=b.r(await b.s(a.kM));
d.addEventListener("close",()=>{a.kM=void 0});d.addEventListener("versionchange",()=>{a.kM=void 0});return d}catch(d){throw b.r(),a.kM=void 0,d;}}finally{b.s()}},mqc=function(a){return a.name==="QuotaExceededError"||a instanceof DOMException&&a.code===22?!0:lqc.some(b=>b.test(a.message))},oqc=function(a){return!self.indexedDB||a instanceof fqc||a instanceof DOMException&&["AbortError","TransactionInactiveError"].includes(a.name)?!0:nqc.some(b=>b.test(a.message))},rqc=function(a){a=a instanceof Error?
a:Error(String(a));return a instanceof pqc||a instanceof qqc?a:mqc(a)?new qqc(a):oqc(a)?new pqc(a):a},sqc=function(a,{V2:b}){if(!(a.fb==null||Math.random()>.01))return a.fb.xi(b,{attrs:new Map([["sample_rate_override",1]]),timeout:3E5})},tqc=function(a,b){return{key:a,record:b}},vqc=async function(a,b,c){const d=s3()();try{const e=d.r(await d.s(a.get(b)));if(e==null)throw new uqc(b,"Record was not found after write operation.");const f=a.serializer.Fa(c),g=a.serializer.Fa(e);if(JSON.stringify(f)!==
JSON.stringify(g))throw new uqc(b,"Record content differs after write operation.");}finally{d.s()}},u3=function(a){if(a==null)throw new wqc("null",0);if(typeof a!=="object"||Array.isArray(a))throw new wqc(xqc(a),JSON.stringify(a).length);if(!("key"in a&&"record"in a)||typeof a.key!=="string"||typeof a.record!=="object"||a.record==null){const b={};for(const [c,d]of Object.entries(a))b[c]=xqc(d);throw new wqc(JSON.stringify(b),JSON.stringify(a).length);}return{key:a.key,value:a.record}},xqc=function(a){return a==
null?"null":typeof a==="object"?Array.isArray(a)?"array":"object":typeof a},Bqc=function({Nn:a,serializer:b,i4b:c={},fb:d,lla:e}){return new yqc(a,b,new zqc(new Aqc({name:a,build:f=>hqc(f,{from:0,to:1,Eeb:g=>{g=g.createObjectStore(a,{keyPath:"key"});for(const [h,{keyPath:k,...l}]of Object.entries(c))g.createIndex(h,`${"record"}.${k}`,l)}}).build({yna:1,ghb:1})},e),d))},Cqc=function(){return Bqc({Nn:"config",serializer:{Fa:a=>a,za:a=>a}})},s3=__webpack_require__(75402)._;var v3=__webpack_require__(245307).Fm;var w3=class{async continue(a){const b=s3()();try{const c=b.r(await b.s(eqc(this,a)));return c==null?void 0:new w3(c)}finally{b.s()}}async update(a){a=this.cursor.update(a);return this.bo(a)}async delete(){const a=this.cursor.delete();return this.bo(a)}constructor(a){this.cursor=a;this.bo=dqc}},Dqc=class extends w3{async continue(a){const b=s3()();try{const c=b.r(await b.s(eqc(this,a)));return c==null?void 0:new Dqc(c)}finally{b.s()}}get value(){return this.cursor.value}constructor(a){super(a);this.cursor=
a}};var Eqc=class{async get(a){a=this.index.get(a);return this.bo(a)}async getAll(a,b){a=this.index.getAll(a,b);return this.bo(a)}async getAllKeys(a,b){a=this.index.getAllKeys(a,b);return this.bo(a)}async count(a){a=this.index.count(a);return this.bo(a)}async openCursor(a,b){const c=s3()();try{const d=this.index.openCursor(a,b),e=c.r(await c.s(this.bo(d)));return e!=null?new Dqc(e):void 0}finally{c.s()}}async openKeyCursor(a,b){const c=s3()();try{const d=this.index.openKeyCursor(a,b),e=c.r(await c.s(this.bo(d)));
return e!=null?new w3(e):void 0}finally{c.s()}}constructor(a){this.index=a;this.bo=dqc}};var Fqc=class{index(a){return new Eqc(this.store.index(a))}async put(a,b){a=this.store.put(a,b);return this.bo(a)}async get(a){a=this.store.get(a);return this.bo(a)}async delete(a){a=this.store.delete(a);return this.bo(a)}async clear(){const a=this.store.clear();return this.bo(a)}async getAll(a,b){a=this.store.getAll(a,b);return this.bo(a)}async getAllKeys(a,b){a=this.store.getAllKeys(a,b);return this.bo(a)}async count(a){a=this.store.count(a);return this.bo(a)}async openCursor(a,b){const c=s3()();
try{const d=this.store.openCursor(a,b),e=c.r(await c.s(this.bo(d)));return e!=null?new Dqc(e):void 0}finally{c.s()}}async openKeyCursor(a,b){const c=s3()();try{const d=this.store.openKeyCursor(a,b),e=c.r(await c.s(this.bo(d)));return e!=null?new w3(e):void 0}finally{c.s()}}createIndex(a,b,c){return this.store.createIndex(a,b,c)}deleteIndex(a){return this.store.deleteIndex(a)}constructor(a){this.store=a;this.bo=dqc}};var Gqc=class{objectStore(a){a=this.zD.objectStore(a);return new Fqc(a)}abort(){this.zD.abort()}commit(){this.zD.commit?.()}get error(){return this.zD.error}constructor(a){this.zD=a;this.Yhb=gqc(this)}},fqc=class extends Error{constructor(){super("Transaction was aborted")}};var t3=class{static Ql(a){return new Hqc(a.name,a.yH,a.lla??indexedDB)}static open({name:a,version:b,F7a:c,yH:d},e=indexedDB){return new Promise((f,g)=>{try{const h=e.open(a,b);let k,l=!1;c&&h.addEventListener("upgradeneeded",n=>{const p=h.result,q=__c.z(h.transaction);if(l)q.abort(),p.close();else{k=new t3(p);var r=new Gqc(q);r.Yhb.catch(v3.wrap(t=>{if(!(t instanceof fqc))throw t;}));try{c(k,n,r,()=>{throw new iqc;})}catch(t){q.abort(),p.close(),g(t)}}});switch(d.type){case 0:d.zFb&&h.addEventListener("blocked",
d.zFb);h.addEventListener("success",()=>{f(k??new t3(h.result))});break;case 1:h.addEventListener("blocked",()=>{l=!0;g(new Iqc)});h.addEventListener("success",()=>{const n=h.result;l?n.close():(n.addEventListener("versionchange",p=>{(d.mpb&&p.newVersion==null||d.npb&&p.newVersion!=null)&&n.close()}),f(k??new t3(n)))});break;default:throw new __c.A(d);}const m=r3("idb_database open error");h.addEventListener("error",()=>{g(m(h.error))})}catch(h){g(h)}})}transaction(a,b){return new Gqc(this.db.transaction(a,
b))}createObjectStore(a,b){return new Fqc(this.db.createObjectStore(a,b))}deleteObjectStore(a){this.db.deleteObjectStore(a)}get objectStoreNames(){return this.db.objectStoreNames}get version(){return this.db.version}close(){this.db.close()}addEventListener(a,b,c){this.db.addEventListener(a,b,c)}removeEventListener(a,b,c){this.db.removeEventListener(a,b,c)}static delete({name:a},b=indexedDB){return new Promise((c,d)=>{const e=r3("idb_database delete error"),f=b.deleteDatabase(a);f.addEventListener("blocked",
()=>d(new Jqc));f.addEventListener("error",()=>{d(e(f.error))});f.addEventListener("success",()=>c())})}constructor(a){this.db=a}},Hqc=class{async build(a){const b=s3()();try{this.Eja&&(x(a.yna===void 0||a.yna>=this.Eja.to),x(a?.ghb>=this.Eja.to));x(this.QP.length>0);const c=a?.yna??this.Eja?.to??1,d=this.QP[this.QP.length-1].to;a=a?.ghb??d;__c.v(a<=d);const e=b.r(await b.s(jqc({name:this.name,yH:this.yH},this.b1a)));if(e!=null){if(e.version>d)throw e.close(),new Kqc(e.version,d);if(e.version>=a)return e;
e.close()}try{return b.r(await b.s(this.openDatabase(a)))}catch(f){b.r();if(f instanceof Iqc){const g=b.r(await b.s(this.openDatabase(void 0)));if(g.version<c)throw g.close(),new Lqc(g.version,c);return g}throw f;}}finally{b.s()}}openDatabase(a){return t3.open({name:this.name,version:a,F7a:(b,c,d)=>{if(c.newVersion!=null){var e=c.oldVersion;for(const f of this.QP){if(e===c.newVersion)break;if(!(e>=f.to)){if(f.from!==e)throw new Mqc(e);if(f.to>c.newVersion)throw new Mqc(c.newVersion);f.Eeb(b,d);e=
f.to}}if(e!==c.newVersion)throw new Mqc(c.newVersion);}},yH:this.yH},this.b1a)}constructor(a,b,c){this.name=a;this.yH=b;this.b1a=c;this.QP=[];this.Eja=void 0}},Jqc=class extends Error{constructor(){super("Deletion blocked due to open connections")}},Iqc=class extends Error{constructor(){super("Operation blocked due to open connections")}},Lqc=class extends Error{constructor(a,b){super(`Current DB version ${a} is less than minimum allowed ${b}`);this.currentVersion=a;this.yna=b}},Kqc=class extends Error{constructor(a,
b){super(`Current DB version ${a} is greater than maximum allowed ${b}`);this.currentVersion=a}},Mqc=class extends Error{constructor(a){super(`Database version ${a} is no longer supported and cannot be upgraded`);this.version=a}},iqc=class extends Error{constructor(){super("AbortError")}};var Aqc=class{async bD(a,b,c){const d=s3()();try{const e=d.r(await d.s(kqc(this))).transaction(a,b),f=e.Yhb;try{const [g]=d.r(await d.s(Promise.all([(async()=>{const h=s3()();try{const k=h.r(await h.s(c(e)));e.commit();return k}finally{h.s()}})(),f])));return g}catch(g){d.r();try{e.abort()}catch(h){if(!(h instanceof Error&&h.name==="InvalidStateError"))throw h;}d.r(await d.s(f.catch(v3.wrap(()=>{}))));throw g;}finally{}}finally{d.s()}}close(){this.kM?.catch(()=>{}).then(a=>a?.close());this.kM=void 0}constructor(a,
b=globalThis.indexedDB){this.options=a;this.lla=b}};var qqc=class extends Error{constructor(a){super("Quota exceeded");this.cause=a}},pqc=class extends __c.Cc{constructor(a){super("IndexedDb Database Error",0);this.cause=a}},Nqc=class extends Error{constructor(a){super("Failed to deserialize stored data");this.cause=a}};var lqc=[/Encountered full disk while opening backing store for indexedDB.open./i,/Failed to PutOrAdd in database because not enough space for domain/i],nqc=[/(transaction|operation) was aborted/i,/The database connection is closing/i,/connection to indexed database server lost/i,/internal error/i,/the transaction is inactive or finished/i,/unable to open database file on disk/i,/without an in-progress transaction/i,/The user denied permission to access the database\./];var zqc=class{async bD({tK:a,mode:b,methodName:c},d){const e=s3()();try{const f=sqc(this,{V2:`idb_transaction_executor.run_in_transaction.${c}`});self.clearTimeout(this.pVa);try{return e.r(await e.s(this.a1a.bD(a,b,d)))}catch(g){e.r();const h=rqc(g);h instanceof pqc&&(f?.setAttribute("error",g instanceof Error?g.message:String(g)),f?.end("error"));throw h;}finally{f?.end("ok"),self.clearTimeout(this.pVa),this.pVa=self.setTimeout(v3.wrap(()=>this.a1a.close()),2500)}}finally{e.s()}}constructor(a,b){this.a1a=
a;this.fb=b}};var yqc=class{async put(a,b){const c=s3()();try{const d=tqc(a,this.serializer.Fa(b));c.r(await c.s(this.NI.bD({tK:this.Nn,mode:"readwrite",methodName:"put"},async e=>{const f=s3()();try{f.r(await f.s(e.objectStore(this.Nn).put(d)))}finally{f.s()}})));vc("7741e20a",!1)&&c.r(await c.s(vqc(this,a,b)))}finally{c.s()}}async get(a){const b=s3()();try{const c=b.r(await b.s(this.NI.bD({tK:this.Nn,mode:"readonly",methodName:"get"},async d=>d.objectStore(this.Nn).get(a))));return c==null?void 0:this.za(u3(c).value)}finally{b.s()}}async delete(a){return this.NI.bD({tK:this.Nn,
mode:"readwrite",methodName:"delete"},async b=>{const c=s3()();try{const d=b.objectStore(this.Nn);Array.isArray(a)?c.r(await c.s(Promise.all(a.map(e=>d.delete(e))))):c.r(await c.s(d.delete(a)))}finally{c.s()}})}async count(){return this.NI.bD({tK:this.Nn,mode:"readonly",methodName:"count"},async a=>a.objectStore(this.Nn).count())}async update(a,b){const c=s3()();try{const d=[];c.r(await c.s(this.NI.bD({tK:this.Nn,mode:"readwrite",methodName:"update"},async e=>{const f=s3()();try{const g=e.objectStore(this.Nn),
h=Array.isArray(a)?a:[a];f.r(await f.s(Promise.all(h.map(async k=>{const l=s3()();try{const m=l.r(await l.s(g.get(k)));let n;m!=null&&(n={value:this.za(u3(m).value)});const p=b(n,k);p!=null?(l.r(await l.s(g.put(tqc(k,this.serializer.Fa(p.value))))),vc("7741e20a",!1)&&d.push({key:k,value:p.value})):l.r(await l.s(g.delete(k)))}finally{l.s()}}))))}finally{f.s()}})));vc("7741e20a",!1)&&c.r(await c.s(Promise.all(d.map(({key:e,value:f})=>vqc(this,e,f)))))}finally{c.s()}}async updateAll(a,b,c){const d=s3()();
try{const e=[];d.r(await d.s(this.NI.bD({tK:this.Nn,mode:"readwrite",methodName:"updateAll"},async f=>{const g=s3()();try{const h=f.objectStore(this.Nn),k=typeof c==="string"?h.index(c):h,l=g.r(await g.s(k.getAll(b)));g.r(await g.s(Promise.all(l.map(async m=>{const n=s3()();try{const {key:p,value:q}=u3(m),r=a({value:this.za(q)},p);r!=null?(n.r(await n.s(h.put(tqc(p,this.serializer.Fa(r.value))))),vc("7741e20a",!1)&&e.push({key:p,value:r.value})):n.r(await n.s(h.delete(p)))}finally{n.s()}}))))}finally{g.s()}})));
vc("7741e20a",!1)&&d.r(await d.s(Promise.all(e.map(({key:f,value:g})=>vqc(this,f,g)))))}finally{d.s()}}async getAll(a,b){const c=s3()();try{const d=c.r(await c.s(this.NI.bD({tK:this.Nn,mode:"readonly",methodName:"getAll"},async g=>{const h=s3()();try{const k=g.objectStore(this.Nn),l=typeof b==="string"?k.index(b):k;try{return h.r(await h.s(l.getAll(a))).map(m=>(0,__c.Ba)(u3(m)))}catch{h.r();const m=h.r(await h.s(l.getAllKeys(a)));return Promise.all(m.map(async n=>{const p=s3()();try{try{const q=p.r(await p.s(l.get(n)));
return(0,__c.Ba)(u3(q))}catch(q){return p.r(),(0,__c.Ea)({key:n,error:q instanceof Error?q:Error(String(q))})}}finally{p.s()}}))}}finally{h.s()}}))),e=[],f=[];for(const g of d){if(!g.ok){f.push(g.error);continue}const h=g.value.key,k=g.value.value;try{e.push({key:h,O:this.za(k)})}catch(l){f.push({key:h,error:l instanceof Error?l:Error(String(l))})}}return{items:e,errors:f}}finally{c.s()}}async getAllKeys(){return this.NI.bD({tK:this.Nn,mode:"readonly",methodName:"getAllKeys"},async a=>{const b=s3()();
try{const c=a.objectStore(this.Nn);return b.r(await b.s(c.getAllKeys())).map(d=>String(d))||[]}finally{b.s()}})}async clear(){return this.NI.bD({tK:this.Nn,mode:"readwrite",methodName:"clear"},async a=>a.objectStore(this.Nn).clear())}za(a){try{return this.serializer.za(a)}catch(b){throw new Nqc(b instanceof Error?b:Error(String(b)));}}constructor(a,b,c){this.Nn=a;this.serializer=b;this.NI=c}},wqc=class extends Error{constructor(a,b){super(`Unexpected record received: ${a}. Record length: ${b}.`)}},
uqc=class extends Error{constructor(a,b){super(`Write verification failed for key "${a}". ${b||"Expected value was not found or differs from what was written."}`)}};__c.Oba={s3b:async function(a){return Promise.race([(async()=>{const b=s3()();try{try{return b.r(await b.s(Cqc().get("userAgent")))}catch(c){b.r(),a.Vb(c)}}finally{b.s()}})(),__c.fn(1E4).then(v3.wrap(()=>{}))])},qMb:async function(){const a=s3()();try{a.r(await a.s(Cqc().put("userAgent",navigator.userAgent)))}finally{a.s()}}};
}).call(globalThis, globalThis._5f74ec40302898c5a55451c9fbd04240);}

}])
//# sourceMappingURL=sourcemaps/b745c590787d4c8f.js.map